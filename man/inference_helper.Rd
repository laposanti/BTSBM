% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/inference_helper.R, R/utils.R
\name{inference_helper}
\alias{inference_helper}
\title{Post-processing for BT–SBM posterior draws}
\usage{
inference_helper(x_samples, lambda_samples)

inference_helper(x_samples, lambda_samples)
}
\arguments{
\item{x_samples}{integer matrix (M x K). Cluster labels per draw (each row = one draw).}

\item{lambda_samples}{numeric matrix (M x K). Block rates per draw (aligned with labels).}
}
\value{
A list with components:
\itemize{
\item \code{x_samples_relabel}, \code{lambda_samples_relabel} — relabeled draws.
\item \code{co_clustering} — PSM (K x K).
\item \code{partition_binder}, \code{minVI_partition}, \code{partition_expected}.
\item \code{n_clusters_each_iter}, \code{avg_n_clusters}.
\item \code{player_block_assignment_probs} (K x K data.frame).
\item \code{block_count_distribution} (data.frame with \code{num_blocks}, \code{count}, \code{prob}).
\item \code{top_block_count_per_iter}, \code{avg_top_block_count}.
}

A list with components:
\itemize{
\item \code{x_samples_relabel}, \code{lambda_samples_relabel} — relabeled draws.
\item \code{co_clustering} — PSM (K x K).
\item \code{partition_binder}, \code{minVI_partition}, \code{partition_expected}.
\item \code{n_clusters_each_iter}, \code{avg_n_clusters}.
\item \code{player_block_assignment_probs} (K x K data.frame).
\item \code{block_count_distribution} (data.frame with \code{num_blocks}, \code{count}, \code{prob}).
\item \code{top_block_count_per_iter}, \code{avg_top_block_count}.
}
}
\description{
Relabels each MCMC draw by descending block rate \eqn{\lambda}, computes the
posterior similarity matrix (PSM), point partitions (Binder and minVI),
summary stats on the number of clusters, and per-player assignment probabilities.

Relabels each MCMC draw by descending block rate \eqn{\lambda}, computes the
posterior similarity matrix (PSM), Binder and minVI point partitions, cluster
count summaries, and per-player assignment probabilities.
}
\details{
Relabeling is done \emph{within} each draw by sorting occupied blocks by
decreasing \eqn{\lambda}. Block 1 is the “top” block in that draw.
}
\examples{
\dontrun{
set.seed(1)
M <- 100; K <- 6
x  <- matrix(sample.int(3, M*K, TRUE), M, K)
lam <- matrix(rexp(M*K), M, K)
out <- inference_helper(x, lam)
str(out)
}
\dontrun{
set.seed(1)
M <- 100; K <- 6
x  <- matrix(sample.int(3, M*K, TRUE), M, K)
lam <- matrix(rexp(M*K), M, K)
out <- inference_helper(x, lam)
str(out)
}
}
